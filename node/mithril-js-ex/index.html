<!DOCTYPE html>
<meta charset="UTF-8">
<title>index links - Mithril.js</title>

<script src="/js/mithril.min.js"></script>
<!--[if IE]><script src="/js/es5-shim.min.js"></script><![endif]-->

<body>
<div id="$indexElement"></div>
</body>

<script>

//コンポーネント定義
var indexComponent = {
	//コントローラ
	controller: function () {
		//データをサーバーから取得する
		this.list = m.request({method: 'GET', url: 'links.json'});
	},
	//ビュー
	view: function (ctrl) {
		return m('ul',
			ctrl.list().map(function (item) {
				return m('li', [m('a', {href: item.url}, item.title)]);
			})
		);
	}
};

m.mount($indexElement, indexComponent);

</script>
